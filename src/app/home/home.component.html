<body
  [ngClass]="{
    'christmas-body': christmasTheme,
    'fall-body': fallTheme,
  }"
>
  <div class="snowflakes">
    <div>
      @if (christmasTheme) {
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
        <div class="snowflake"></div>
      }
      @if (fallTheme) {
        <div class="leaf"></div>
        <div class="leaf"></div>
        <div class="leaf"></div>
        <div class="leaf"></div>
        <div class="leaf"></div>
        <div class="leaf"></div>
        <div class="leaf"></div>
        <div class="leaf"></div>
        <div class="leaf"></div>
        <div class="leaf"></div>
        <div class="leaf"></div>
        <div class="leaf"></div>
        <div class="leaf"></div>
        <div class="leaf"></div>
        <div class="leaf"></div>
      }
      <div class="header">
        <h1
          [ngClass]="{ 'white-title': christmasTheme || fallTheme }"
          class="center pad-top"
        >
          Swishlist
        </h1>
        <p
          [ngClass]="{
            'explain-text': !christmasTheme && !fallTheme,
            'explain-text-christmas': christmasTheme || fallTheme,
          }"
        >
          Enter your email to view your lists or create a new one.
        </p>
      </div>
      <form class="form center">
        <div class="row-layout">
          <input
            #emailInput
            type="email"
            class="form-control rounded-input"
            placeholder="Enter email"
            [(ngModel)]="email"
            name="email"
            (focus)="emailInput.select()"
          />
          <button class="submit-button green" (click)="goToMyLists(email)">
            <i class="fa-solid fa-gift white-icon"></i>
          </button>
        </div>
      </form>
      @if (badEmail) {
        <p class="center" style="color: gray; padding-top: 10px">
          Please enter a valid email address.
        </p>
      }
    </div>
    @if (!loading) {
      @if (recentLists.length) {
        <div class="lists center pad-top">
          <h3 [ngClass]="{ 'white-title': christmasTheme || fallTheme }">
            Recent Lists
          </h3>
          @for (list of recentLists; track list; let i = $index) {
            <app-recent-list
              [list]="list"
              [creator]="recentListCreators[i]?.name || 'Unknown User'"
              [showDeleteButton]="true"
              (listClicked)="navigateToList($event, recentListCreators[i])"
              (deleteClicked)="removeList($event.list, $event.event)"
            ></app-recent-list>
          }
        </div>
      }
    } @else {
      <div class="loading center pad-top">
        <div class="spinner"></div>
      </div>
    }
  </div>
</body>
